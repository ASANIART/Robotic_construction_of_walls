 
B =
 
[                                                                                                                                   ml6*(d*cos(th1)*cos(th2) + l*sin(th1)*sin(th5) + l*cos(th1)*cos(th2)*cos(th4)*cos(th5) - l*cos(th1)*cos(th5)*sin(th2)*sin(th4))^2 + ml6*(d*cos(th2)*sin(th1) - l*cos(th1)*sin(th5) + l*cos(th2)*cos(th4)*cos(th5)*sin(th1) - l*cos(th5)*sin(th1)*sin(th2)*sin(th4))^2 + Lxx6*(cos(th2)*cos(th4)*sin(th6) - sin(th2)*sin(th4)*sin(th6) + cos(th2)*cos(th6)*sin(th4)*sin(th5) + cos(th4)*cos(th6)*sin(th2)*sin(th5))^2 + Lyy6*(cos(th6)*sin(th2)*sin(th4) - cos(th2)*cos(th4)*cos(th6) + cos(th2)*sin(th4)*sin(th5)*sin(th6) + cos(th4)*sin(th2)*sin(th5)*sin(th6))^2 + Lzz6*sin(th2 + th4)^2*cos(th5)^2, Lzz6*cos(th2)*cos(th5)*sin(th4)*sin(th5) - Lyy6*cos(th4)*cos(th5)*sin(th2)*sin(th5) - Lyy6*cos(th2)*cos(th5)*sin(th4)*sin(th5) + Lzz6*cos(th4)*cos(th5)*sin(th2)*sin(th5) - d*l*ml6*sin(th2)*sin(th5) + Lxx6*cos(th5)*cos(th6)*sin(th2)*sin(th4)*sin(th6) - Lyy6*cos(th5)*cos(th6)*sin(th2)*sin(th4)*sin(th6) - l^2*ml6*cos(th2)*cos(th5)*sin(th4)*sin(th5) - l^2*ml6*cos(th4)*cos(th5)*sin(th2)*sin(th5) - Lxx6*cos(th2)*cos(th5)*cos(th6)^2*sin(th4)*sin(th5) - Lxx6*cos(th4)*cos(th5)*cos(th6)^2*sin(th2)*sin(th5) + Lyy6*cos(th2)*cos(th5)*cos(th6)^2*sin(th4)*sin(th5) + Lyy6*cos(th4)*cos(th5)*cos(th6)^2*sin(th2)*sin(th5) - Lxx6*cos(th2)*cos(th4)*cos(th5)*cos(th6)*sin(th6) + Lyy6*cos(th2)*cos(th4)*cos(th5)*cos(th6)*sin(th6),  l*ml6*cos(th2)*sin(th5), -cos(th5)*(Lyy6*cos(th2)*sin(th4)*sin(th5) + Lyy6*cos(th4)*sin(th2)*sin(th5) - Lzz6*cos(th2)*sin(th4)*sin(th5) - Lzz6*cos(th4)*sin(th2)*sin(th5) + Lxx6*cos(th2)*cos(th4)*cos(th6)*sin(th6) - Lyy6*cos(th2)*cos(th4)*cos(th6)*sin(th6) - Lxx6*cos(th6)*sin(th2)*sin(th4)*sin(th6) + Lyy6*cos(th6)*sin(th2)*sin(th4)*sin(th6) + l^2*ml6*cos(th2)*sin(th4)*sin(th5) + l^2*ml6*cos(th4)*sin(th2)*sin(th5) + Lxx6*cos(th2)*cos(th6)^2*sin(th4)*sin(th5) + Lxx6*cos(th4)*cos(th6)^2*sin(th2)*sin(th5) - Lyy6*cos(th2)*cos(th6)^2*sin(th4)*sin(th5) - Lyy6*cos(th4)*cos(th6)^2*sin(th2)*sin(th5)), Lxx6*sin(th2)*sin(th4) - Lxx6*cos(th2)*cos(th4) - l^2*ml6*cos(th2)*cos(th4) + l^2*ml6*sin(th2)*sin(th4) + Lxx6*cos(th2)*cos(th4)*cos(th6)^2 - Lyy6*cos(th2)*cos(th4)*cos(th6)^2 - Lxx6*cos(th6)^2*sin(th2)*sin(th4) + Lyy6*cos(th6)^2*sin(th2)*sin(th4) - d*l*ml6*cos(th2)*cos(th5) - Lxx6*cos(th2)*cos(th6)*sin(th4)*sin(th5)*sin(th6) - Lxx6*cos(th4)*cos(th6)*sin(th2)*sin(th5)*sin(th6) + Lyy6*cos(th2)*cos(th6)*sin(th4)*sin(th5)*sin(th6) + Lyy6*cos(th4)*cos(th6)*sin(th2)*sin(th5)*sin(th6), Lzz6*sin(th2 + th4)*cos(th5)]
[Lzz6*cos(th2)*cos(th5)*sin(th4)*sin(th5) - Lyy6*cos(th4)*cos(th5)*sin(th2)*sin(th5) - Lyy6*cos(th2)*cos(th5)*sin(th4)*sin(th5) + Lzz6*cos(th4)*cos(th5)*sin(th2)*sin(th5) - d*l*ml6*sin(th2)*sin(th5) + Lxx6*cos(th5)*cos(th6)*sin(th2)*sin(th4)*sin(th6) - Lyy6*cos(th5)*cos(th6)*sin(th2)*sin(th4)*sin(th6) - l^2*ml6*cos(th2)*cos(th5)*sin(th4)*sin(th5) - l^2*ml6*cos(th4)*cos(th5)*sin(th2)*sin(th5) - Lxx6*cos(th2)*cos(th5)*cos(th6)^2*sin(th4)*sin(th5) - Lxx6*cos(th4)*cos(th5)*cos(th6)^2*sin(th2)*sin(th5) + Lyy6*cos(th2)*cos(th5)*cos(th6)^2*sin(th4)*sin(th5) + Lyy6*cos(th4)*cos(th5)*cos(th6)^2*sin(th2)*sin(th5) - Lxx6*cos(th2)*cos(th4)*cos(th5)*cos(th6)*sin(th6) + Lyy6*cos(th2)*cos(th4)*cos(th5)*cos(th6)*sin(th6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Lzz6 + d^2*ml6 + (Lxx6*cos(th5)^2)/2 + (Lyy6*cos(th5)^2)/2 - Lzz6*cos(th5)^2 + (Lxx6*cos(2*th6)*cos(th5)^2)/2 - (Lyy6*cos(2*th6)*cos(th5)^2)/2 + l^2*ml6*cos(th5)^2 + 2*d*l*ml6*cos(th4)*cos(th5), -l*ml6*cos(th5)*sin(th4),                                                                                                                                                                                                                                                                                                                                                                                                                                         Lzz6 + Lyy6*cos(th5)^2 - Lzz6*cos(th5)^2 + Lxx6*cos(th5)^2*cos(th6)^2 - Lyy6*cos(th5)^2*cos(th6)^2 + l^2*ml6*cos(th5)^2 + d*l*ml6*cos(th4)*cos(th5),                                                                                                                                                                                                                                                                                                                                                                                                       Lxx6*cos(th5)*cos(th6)*sin(th6) - Lyy6*cos(th5)*cos(th6)*sin(th6) - d*l*ml6*sin(th4)*sin(th5),                Lzz6*sin(th5)]
[                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  l*ml6*cos(th2)*sin(th5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  -l*ml6*cos(th5)*sin(th4),                      ml6,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    -l*ml6*cos(th5)*sin(th4),                                                                                                                                                                                                                                                                                                                                                                                                                                                                            -l*ml6*cos(th4)*sin(th5),                            0]
[                                                                                                                                              -cos(th5)*(Lyy6*cos(th2)*sin(th4)*sin(th5) + Lyy6*cos(th4)*sin(th2)*sin(th5) - Lzz6*cos(th2)*sin(th4)*sin(th5) - Lzz6*cos(th4)*sin(th2)*sin(th5) + Lxx6*cos(th2)*cos(th4)*cos(th6)*sin(th6) - Lyy6*cos(th2)*cos(th4)*cos(th6)*sin(th6) - Lxx6*cos(th6)*sin(th2)*sin(th4)*sin(th6) + Lyy6*cos(th6)*sin(th2)*sin(th4)*sin(th6) + l^2*ml6*cos(th2)*sin(th4)*sin(th5) + l^2*ml6*cos(th4)*sin(th2)*sin(th5) + Lxx6*cos(th2)*cos(th6)^2*sin(th4)*sin(th5) + Lxx6*cos(th4)*cos(th6)^2*sin(th2)*sin(th5) - Lyy6*cos(th2)*cos(th6)^2*sin(th4)*sin(th5) - Lyy6*cos(th4)*cos(th6)^2*sin(th2)*sin(th5)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Lzz6 + Lyy6*cos(th5)^2 - Lzz6*cos(th5)^2 + Lxx6*cos(th5)^2*cos(th6)^2 - Lyy6*cos(th5)^2*cos(th6)^2 + l^2*ml6*cos(th5)^2 + d*l*ml6*cos(th4)*cos(th5), -l*ml6*cos(th5)*sin(th4),                                                                                                                                                                                                                                                                                                                                                                                                                       Lxx6 + l^2*ml6 - Lxx6*sin(th5)^2 - Lxx6*sin(th6)^2 + Lyy6*sin(th6)^2 + Lzz6*sin(th5)^2 + Lxx6*sin(th5)^2*sin(th6)^2 - Lyy6*sin(th5)^2*sin(th6)^2 - l^2*ml6*sin(th5)^2,                                                                                                                                                                                                                                                                                                                                                                                                                                                            cos(th5)*cos(th6)*sin(th6)*(Lxx6 - Lyy6),                Lzz6*sin(th5)]
[                                                                                                                                                                                                                                      Lxx6*sin(th2)*sin(th4) - Lxx6*cos(th2)*cos(th4) - l^2*ml6*cos(th2)*cos(th4) + l^2*ml6*sin(th2)*sin(th4) + Lxx6*cos(th2)*cos(th4)*cos(th6)^2 - Lyy6*cos(th2)*cos(th4)*cos(th6)^2 - Lxx6*cos(th6)^2*sin(th2)*sin(th4) + Lyy6*cos(th6)^2*sin(th2)*sin(th4) - d*l*ml6*cos(th2)*cos(th5) - Lxx6*cos(th2)*cos(th6)*sin(th4)*sin(th5)*sin(th6) - Lxx6*cos(th4)*cos(th6)*sin(th2)*sin(th5)*sin(th6) + Lyy6*cos(th2)*cos(th6)*sin(th4)*sin(th5)*sin(th6) + Lyy6*cos(th4)*cos(th6)*sin(th2)*sin(th5)*sin(th6),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Lxx6*cos(th5)*cos(th6)*sin(th6) - Lyy6*cos(th5)*cos(th6)*sin(th6) - d*l*ml6*sin(th4)*sin(th5), -l*ml6*cos(th4)*sin(th5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    cos(th5)*cos(th6)*sin(th6)*(Lxx6 - Lyy6),                                                                                                                                                                                                                                                                                                                                                                                                                                                  Lyy6 + l^2*ml6 + Lxx6*sin(th6)^2 - Lyy6*sin(th6)^2,                            0]
[                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Lzz6*sin(th2 + th4)*cos(th5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Lzz6*sin(th5),                        0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Lzz6*sin(th5),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   0,                         Lzz6]
 
